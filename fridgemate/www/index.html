<!DOCTYPE HTML>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.css">
    <link rel="stylesheet" type="text/css" href="css/style.css"/>
    <link rel="stylesheet" type="text/css" href="css/colourGradient.css">
    
    <!-- FontAwesome - http://fortawesome.github.io/Font-Awesome/ -->
    <link rel="stylesheet" href="nativedroid/css/font-awesome.min.css">
    <!-- nativeDroid core CSS -->
    <link rel="stylesheet" href="nativedroid/css/jquerymobile.nativedroid.css">
    <!-- nativeDroid: light/dark -->
    <link rel="stylesheet" href="nativedroid/css/jquerymobile.nativedroid.dark.css">
    <!-- nativedroid: colour -->
    <link rel="stylesheet" href="nativedroid/css/jquerymobile.nativedroid.color.blue.css" id="jQMnDColor">
    <!-- for jquery mobile -->
    <script src="http://code.jquery.com/jquery-1.8.3.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.js"></script>
    <!--my script-->
    <script src="js/util.js"></script>
    <!-- other pages-->
  </head>
  <body>
    <div data-role="page" id="index">
      <div data-role="header" data-theme='b'>
      
      </div>
      <div data-role="content">
      </div>
      <div data-position="fixed" data-tap-toggle="false" data-role="footer" data-tap-toggle="false" data-theme='b'>
      </div>
    </div>
  </body>
  <script>
  var userId='012';
  var listOfFood;
  $(document).on('pageinit', '#index', function(){
    $.get("footer.html", function(data){
      $("[data-role='footer']").append(data).trigger("create");
    });
    $('fa-list').click();
  });
  $(document).on('pageshow','#inventory', function () {
    $.ajax({
      url:"http://shrouded-beyond-1547.herokuapp.com/api/v1/inventory?user_id="+userId,
      type: "GET",
      success: function (data){
        renderList(data)
        listOfFood = data;
        $(".inventoryItem").click(function(){
          itemId = $(this).data('item-id');
          itemStatus = $(this).data('status');
          itemDays = $(this).data('days');
          setRecordPopup(itemId, itemStatus, itemDays);
        });
        //change taphold to swipe
        $('.inventoryItem').on('taphold',function(){
          console.log('yooo');
          $(this).hide();
        });
        $("#itemRecord").bind('popupbeforeposition', function(){
          $("#recSubmit").on('click', function(){
            sendUpdate();
          });
        });
      },
    });
    //adding item popup
    $('#addItem').bind('popupbeforeposition', function(){
      insertDefaultDate();
      $('#puSubmit').on('tap', function(){
        manualAdd();
      });
    });
  }); 
  </script>
</html>